<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Lesson Title: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="manifest" href="../site.webmanifest">
<link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav IDEAS"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="IDEAS" src="../assets/images/IDEAS-logo.svg"><abbr class="badge badge-light" title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught." style="background-color: #FF4955; border-radius: 5px">
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link" style="color: #000">
            <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
            Pre-Alpha
          </a>
          <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav IDEAS" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="IDEAS" src="../assets/images/IDEAS-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Lesson Title
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
      <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Lesson Title
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
<input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset>
</form>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Lesson Title
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress IDEAS">
    <div class="progress-bar IDEAS" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->
      
            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. introduction</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="imaging-software.html">2. Imaging Software</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="what-is-an-image.html">3. What is an image?</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width resources">
<a href="../instructor/aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">
            
            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-introduction"><p>Content from <a href="introduction.html">introduction</a></p>
<hr>
<p> Last updated on 2023-12-13 | 
        
        <a href="https://example.com/FIXME-template-source/edit/main/episodes/introduction.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time <i aria-hidden="true" data-feather="clock"></i> 12 minutes </p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do you write a lesson using R Markdown and
<a href="https://carpentries.github.io/sandpaper/" class="external-link">sandpaper</a>?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain how to use markdown with the new lesson template</li>
<li>Demonstrate how to include pieces of code, figures, and nested
challenge blocks</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section id="introduction"><h2 class="section-heading">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>This is a lesson created via The Carpentries Workbench. It is written
in <a href="https://pandoc.org/MANUAL.html" class="external-link">Pandoc-flavored Markdown</a>
for static files (with extension <code>.md</code>) and <a href="https://rmarkdown.rstudio.com/" class="external-link">R Markdown</a> for dynamic files
that can render code into output (with extension <code>.Rmd</code>).
Please refer to the <a href="https://carpentries.github.io/sandpaper-docs/" class="external-link">Introduction to The
Carpentries Workbench</a> for full documentation.</p>
<p>What you need to know is that there are three sections required for a
valid Carpentries lesson template:</p>
<ol style="list-style-type: decimal">
<li>
<code>questions</code> are displayed at the beginning of the episode
to prime the learner for the content.</li>
<li>
<code>objectives</code> are the learning objectives for an episode
displayed with the questions.</li>
<li>
<code>keypoints</code> are displayed at the end of the episode to
reinforce the objectives.</li>
</ol>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">
  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div>
  Instructor Note
  </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" data-bs-parent="#accordionInstructor1" aria-labelledby="headingInstructor1">
<div class="accordion-body">
<p>Inline instructor notes can help inform instructors of timing
challenges associated with the lessons. They appear in the “Instructor
View”</p>
</div>
</div>
</div>
</div>
<div id="challenge-1-can-you-do-it" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-1-can-you-do-it" class="callout-inner">
<h3 class="callout-title">Challenge 1: Can you do it?<a class="anchor" aria-label="anchor" href="#challenge-1-can-you-do-it"></a>
</h3>
<div class="callout-content">
<p>What is the output of this command?</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">paste</span><span class="op">(</span><span class="st">"This"</span>, <span class="st">"new"</span>, <span class="st">"lesson"</span>, <span class="st">"looks"</span>, <span class="st">"good"</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Output
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "This new lesson looks good"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge-2-how-do-you-nest-solutions-within-challenge-blocks" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-2-how-do-you-nest-solutions-within-challenge-blocks" class="callout-inner">
<h3 class="callout-title">Challenge 2: how do you nest solutions within
challenge blocks?<a class="anchor" aria-label="anchor" href="#challenge-2-how-do-you-nest-solutions-within-challenge-blocks"></a>
</h3>
<div class="callout-content">

</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>You can add a line with at least three colons and a
<code>solution</code> tag.</p>
</div>
</div>
</div>
</div>
</section><section id="figures"><h2 class="section-heading">Figures<a class="anchor" aria-label="anchor" href="#figures"></a>
</h2>
<hr class="half-width">
<p>You can include figures generated from R Markdown:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pie</span><span class="op">(</span></span>
<span>  <span class="fu">c</span><span class="op">(</span>Sky <span class="op">=</span> <span class="fl">78</span>, <span class="st">"Sunny side of pyramid"</span> <span class="op">=</span> <span class="fl">17</span>, <span class="st">"Shady side of pyramid"</span> <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, </span>
<span>  init.angle <span class="op">=</span> <span class="fl">315</span>, </span>
<span>  col <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"deepskyblue"</span>, <span class="st">"yellow"</span>, <span class="st">"yellow3"</span><span class="op">)</span>, </span>
<span>  border <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<figure style="text-align: center"><img src="../fig/introduction-rendered-pyramid-1.png" alt="pie chart illusion of a pyramid" class="figure mx-auto d-block"><figcaption>
Sun arise each and every morning
</figcaption></figure><p>Or you can use pandoc markdown for static figures with the following
syntax:</p>
<p><code>![optional caption that appears below the figure](figure url){alt='alt text for accessibility purposes'}</code></p>
<figure><img src="https://raw.githubusercontent.com/carpentries/logo/master/Badge_Carpentries.svg" alt="Blue Carpentries hex person logo with no text." class="figure mx-auto d-block"><figcaption>You belong in The Carpentries!</figcaption></figure></section><section id="math"><h2 class="section-heading">Math<a class="anchor" aria-label="anchor" href="#math"></a>
</h2>
<hr class="half-width">
<p>One of our episodes contains <span class="math inline">\(\LaTeX\)</span> equations when describing how to
create dynamic reports with {knitr}, so we now use mathjax to describe
this:</p>
<p><code>$\alpha = \dfrac{1}{(1 - \beta)^2}$</code> becomes: <span class="math inline">\(\alpha = \dfrac{1}{(1 - \beta)^2}\)</span></p>
<p>Cool, right?</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Use <code>.md</code> files for episodes when you want static
content</li>
<li>Use <code>.Rmd</code> files for episodes when you need to generate
output</li>
<li>Run <code>sandpaper::check_lesson()</code> to identify any issues
with your lesson</li>
<li>Run <code>sandpaper::build_lesson()</code> to preview your lesson
locally</li>
</ul>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-imaging-software"><p>Content from <a href="imaging-software.html">Imaging Software</a></p>
<hr>
<p> Last updated on 2023-12-13 | 
        
        <a href="https://example.com/FIXME-template-source/edit/main/episodes/imaging-software.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time <i aria-hidden="true" data-feather="clock"></i> 40 minutes </p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What are the different software options for viewing microscopy
images?</li>
<li>How can Napari be used to view images?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain the pros and cons of different image visualisation tools
(e.g. ImageJ, Napari and proprietary options)</li>
<li>Use Napari to open images</li>
<li>Navigate the Napari viewer (pan/zoom/swapping between 2D and 3D
views…)</li>
<li>Explain the main parts of the Napari user interface</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section id="choosing-the-right-tool-for-the-job"><h2 class="section-heading">Choosing the right tool for the job<a class="anchor" aria-label="anchor" href="#choosing-the-right-tool-for-the-job"></a>
</h2>
<hr class="half-width">
<p>Light microscopes can produce a very wide range of image data (we’ll
see some examples in episode X) - for example:</p>
<ul>
<li>2D or 3D</li>
<li>Time series or snapshots</li>
<li>Different channels</li>
<li>Small to large datasets</li>
</ul>
<figure><img src="../fig/images-mosaic.png" style="width:80.0%" alt="A mosaic of screenshots of some of Napari's  included sample data" class="figure mx-auto d-block"></figure><p>With such a wide range of data, there comes a huge variety of
software that can work with these images. Different software may be
specialised to specific types of image data, or to specific research
fields. There is no one ‘right’ software to use - it’s about choosing
the right tool for yourself, your data, and your research question!</p>
<p>Some points to consider when choosing software are:</p>
<ul>
<li><p><strong>What is common in your research field?</strong><br>
Having a good community around the software you work with can be
extremely helpful - so it’s worth considering what is popular in your
department, or in relevant papers in your field.</p></li>
<li><p><strong>Open source or proprietary?</strong><br>
We’ll look at this more in the next section, but it’s important to
consider if the software you are using is freely available, or requires
a one-off payment or a regular subscription fee to use.</p></li>
<li><p><strong>Support for image types?</strong><br>
For example, does it support 3D images, or timeseries?</p></li>
<li><p><strong>Can it be automated/customised/extended?</strong><br>
Can you automate certain steps with your own <em>scripts or
plugins</em>? This is useful to make sure your analysis steps can be
easily shared and reproduced by other researchers. It also enables you
to add extra features to a piece of software, and automate repetitive
steps for large numbers of images.</p></li>
</ul>
<div id="what-are-scripts-and-plugins" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="what-are-scripts-and-plugins" class="callout-inner">
<h3 class="callout-title">What are scripts and plugins?<a class="anchor" aria-label="anchor" href="#what-are-scripts-and-plugins"></a>
</h3>
<div class="callout-content">
<p>Scripts and plugins are ways to automate certain software steps or
add new features.</p>
<div class="section level4">
<h4 id="scripts">Scripts<a class="anchor" aria-label="anchor" href="#scripts"></a>
</h4>
<p>Scripts are lists of commands to be carried out by a piece of
software e.g.  load an image, then threshold it, then measure its size…
They are normally used to automate certain processing steps - for
example, rather than having to load each image individually and click
the same buttons again and again in the user interface, a script could
load each image automatically and run all those steps in one go. Not
only does this save time and reduce manual errors, but it also ensures
your workflow can easily be shared and reproduced by other
researchers.</p>
</div>
<div class="section level4">
<h4 id="plugins">Plugins<a class="anchor" aria-label="anchor" href="#plugins"></a>
</h4>
<p>Plugins, in contrast to scripts, are focused on adding optional new
features to a piece of software (rather than automating use of existing
features). They allow members of the community, outside the main team
that develops the software, to add features they need for a particular
image type or processing task. They’re designed to be re-useable so
other members of the community can easily benefit from these new
features.</p>
</div>
</div>
</div>
</div>
<p>A good place to look for advice on software is the <a href="https://forum.image.sc/" class="external-link">image.sc forum</a> - a popular forum for
image analysis (mostly related to biological or medical images).</p>
<div id="using-the-image.sc-forum" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="using-the-image.sc-forum" class="callout-inner">
<h3 class="callout-title">Using the image.sc forum<a class="anchor" aria-label="anchor" href="#using-the-image.sc-forum"></a>
</h3>
<div class="callout-content">
<p>Go to the <a href="https://forum.image.sc/" class="external-link">image.sc forum</a> and
take a look at the pinned post called ‘Welcome to the Image.sc
Forum!’</p>
<ul>
<li><p>Search for posts in the category ‘Announcements’ tagged with
‘napari’</p></li>
<li><p>Search for posts in the category ‘Image Analysis’ tagged with
‘napari’</p></li>
<li><p>Click on some posts to see how questions and replies are laid
out</p></li>
</ul>
</div>
</div>
</div>
</section><section id="open-source-vs-proprietary"><h2 class="section-heading">Open source vs proprietary<a class="anchor" aria-label="anchor" href="#open-source-vs-proprietary"></a>
</h2>
<hr class="half-width">
<p>A key factor to consider when choosing software is whether it is open
source or proprietary:</p>
<ul>
<li><p><strong>Open source</strong>: Software that is made freely
available to use and modify.</p></li>
<li><p><strong>Proprietary</strong>: Software that is owned by a company
and usually requires either a one-off fee or subscription to
use.</p></li>
</ul>
<p>Both can be extremely useful, and it is very likely that you will use
a mix of both to view and analyse your images. For example, proprietary
software is often provided by the manufacturer when a microscope is
purchased. You will likely use this during acquisition of your images
and for some processing steps after.</p>
<p>There are pros and cons to both, and it’s worth considering the
following:</p>
<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">
  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div>
  Pros and cons of open-source / proprietary
  </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" aria-labelledby="headingSpoiler1" data-bs-parent="#accordionSpoiler1">
<div class="accordion-body">
<p><strong>Cost</strong><br>
One of the biggest advantages of open source software is that it is
free. This means it is always available, even if you move to a different
institution that may not have paid for other proprietary software.</p>
<p><strong>Development funding/team</strong><br>
Proprietary software is usually maintained by a large team of developers
that are funded full time. This may mean it is more stable and
thoroughly tested/validated than some open-source software. Some
open-source projects will be maintained by large teams with very
thorough testing, while others will only have a single developer
part-time.</p>
<p><strong>Flexibility/extension</strong><br>
Open-source software tends to be easier to extend with new features, and
more flexible to accommodate a wide variety of workflows. Although, many
pieces of proprietary software have a plugin system or scripting to
allow automation.</p>
<p><strong>Open file formats and workflows</strong><br>
Open-source software uses open file formats and workflows, so anyone can
see the details of how the analysis is done. Proprietary software tends
to keep the implementation details hidden and use file formats that
can’t be opened easily in other software.</p>
</div>
</div>
</div>
</div>
<p>As always, the right software to use will depend on your preference,
your data and your research question. This being said, we will only use
open-source software in this course, and we encourage using open-source
software where possible.</p>
</section><section id="fijiimagej-and-napari"><h2 class="section-heading">Fiji/ImageJ and Napari<a class="anchor" aria-label="anchor" href="#fijiimagej-and-napari"></a>
</h2>
<hr class="half-width">
<p>While there are many pieces of software to choose from, two of the
most popular open-source options are <a href="https://imagej.net/software/fiji/" class="external-link">Fiji/ImageJ</a> and <a href="https://napari.org/" class="external-link">Napari</a>. They are both:</p>
<ul>
<li>Freely available</li>
<li>‘General’ imaging software i.e. applicable to many different
research fields</li>
<li>Supporting a wide range of image types</li>
<li>Customisable with scripts + plugins</li>
</ul>
<p>Both are great options for working with a wide variety of images - so
why choose one over the other? Some of the main differences are listed
below if you are interested:</p>
<div id="accordionSpoiler2" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler2" aria-expanded="false" aria-controls="collapseSpoiler2">
  <h3 class="accordion-header" id="headingSpoiler2">
  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div>
  Differences between Fiji/ImageJ and Napari
  </h3>
</button>
<div id="collapseSpoiler2" class="accordion-collapse collapse" aria-labelledby="headingSpoiler2" data-bs-parent="#accordionSpoiler2">
<div class="accordion-body">
<p><strong>Python vs Java</strong><br>
A big advantage of Napari is that it is made with the Python programming
language (vs Fiji/ImageJ which is made with Java). In general, this
makes it easier to extend with scripts and plugins as Python tends to be
more widely used in the research community. It also means Napari can
easily integrate with other python tools e.g. Python’s popular machine
learning libraries.</p>
<p><strong>Maturity</strong><br>
Fiji/ImageJ has been actively developed <a href="https://imagej.net/software/imagej/" class="external-link">for many years now (&gt;20
years)</a>, while Napari is a more recent development <a href="https://napari.org/stable/community/team.html#project-history" class="external-link">starting
around 2018</a>. This difference in age comes with pros and cons - in
general, it means that the core features and layout of Fiji/ImageJ are
very well established, and less likely to change than Napari. With
Napari, you will likely have to adjust your image processing workflow
with new versions, or update any scripts/plugins more often. Equally, as
Napari is new and rapidly growing in popularity, it is quickly gaining
new features and attracting a wide range of new plugin developers.</p>
<p><strong>Built-in tools</strong><br>
Fiji/ImageJ comes with many image processing tools built-in by default -
e.g.  making image histograms, thresholding and gaussian blur (we will
look at these terms in a later episode). Napari, in contrast, is more
minimal by default - mostly focusing on image display. It requires
installation of additional plugins to add many of these features.</p>
<p><strong>Specific plugins</strong><br>
There are excellent plugins available for Fiji/ImageJ and Napari that
focus on specific types of image data or processing steps. The
availability of a specific plugin will often be a deciding factor on
whether to use Fiji/ImageJ or Napari for your project.</p>
<p><strong>Ease of installation and user interface</strong><br>
As Fiji/ImageJ has been in development for longer, it tends to be
simpler to install than Napari (especially for those with no prior
Python experience). In addition, as it has more built-in image
processing tools, it tends to be simpler to use fully from its user
interface. Napari meanwhile is often strongest when you combine it with
some Python scripting (although this isn’t required for many
workflows!)</p>
</div>
</div>
</div>
</div>
<p>For this lesson, we will use Napari as our software of choice. It’s
worth bearing in mind though that Fiji/ImageJ can be a useful
alternative - and many workflows will actually use both Fiji/ImageJ and
Napari together! Again, it’s about choosing the right tool for your data
and research question.</p>
</section><section id="opening-napari"><h2 class="section-heading">Opening Napari<a class="anchor" aria-label="anchor" href="#opening-napari"></a>
</h2>
<hr class="half-width">
<p>Let’s get started by opening a new Napari window - you should have
already followed the <a href="index.html#setup">installation instructions</a>.
Note this can take a while the first time, so give it a few minutes!</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> activate napari-env</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">napari</span></span></code></pre>
</div>
<figure><img src="../fig/blank-napari-ui.png" alt="A screenshot of the default Napari user  interface" class="figure mx-auto d-block"></figure></section><section id="opening-images"><h2 class="section-heading">Opening images<a class="anchor" aria-label="anchor" href="#opening-images"></a>
</h2>
<hr class="half-width">
<p>Napari comes with some example images - let’s open one now. Go to the
top menu-bar of Napari and select:<br><code>File &gt; Open Sample &gt; napari builtins &gt; Cells (3D+2Ch)</code></p>
<p>You should see a fluorescence microscopy image of some cells:</p>
<figure><img src="../fig/cells-napari.png" alt="A screenshot of a flourescence microscopy image  of some cells in Napari" class="figure mx-auto d-block"></figure></section><section id="naparis-user-interface"><h2 class="section-heading">Napari’s User interface<a class="anchor" aria-label="anchor" href="#naparis-user-interface"></a>
</h2>
<hr class="half-width">
<p>Napari’s user interface is split into a few main sections, as you can
see in the diagram below (note that on Macs the main menu will appear in
the upper ribbon, rather than inside the Napari window):</p>
<figure><img src="../fig/ui-sections-napari.png" alt="A screenshot of Napari with the main user  interface sections labelled" class="figure mx-auto d-block"></figure><p>Let’s take a brief look at each of these sections - for full
information see the <a href="https://napari.org/stable/tutorials/fundamentals/viewer.html" class="external-link">Napari
documentation</a>.</p>
</section><section id="main-menu"><h2 class="section-heading">Main menu<a class="anchor" aria-label="anchor" href="#main-menu"></a>
</h2>
<hr class="half-width">
<p>We already used the main menu in the last section to open a sample
image. The main menu contains various commands for opening images,
changing preferences and installing plugins (we’ll see more of these
options in later episodes).</p>
</section><section id="canvas"><h2 class="section-heading">Canvas<a class="anchor" aria-label="anchor" href="#canvas"></a>
</h2>
<hr class="half-width">
<p>The canvas is the main part of the Napari user interface. This is
where we display and interact with our images.</p>
<p>Try moving around the cells image with the following commands:</p>
<pre><code>Pan - Click and drag
Zoom - Scroll in/out (use the same gestures with your mouse 
                      that you would use to scroll up/down 
                      in a document)</code></pre>
</section><section id="dimension-sliders"><h2 class="section-heading">Dimension sliders<a class="anchor" aria-label="anchor" href="#dimension-sliders"></a>
</h2>
<hr class="half-width">
<p>Dimension sliders appear at the bottom of the canvas depending on the
type of image displayed. For example, here we have a 3D image of some
cells, which consists of a stack of 2D images. If we drag the slider at
the bottom of the image, we move up and down in this stack:</p>
<figure><img src="../fig/dim-slider.png" alt="Three screenshots of the cells image in napari, at  different z depths" class="figure mx-auto d-block"></figure><p>Pressing the arrow buttons at either end of the slider steps through
one slice at a time. Also, pressing the ‘play’ button at the very left
of the slider moves automatically through the stack until pressed
again.</p>
<figure><img src="../fig/dim-slider-closeup.png" style="width:80.0%" alt="Closeup of Napari's dimension slider with labels" class="figure mx-auto d-block"></figure><p>We will see in later episodes that more sliders can appear if our
image has more dimensions (e.g. time series, or further channels).</p>
</section><section id="viewer-buttons"><h2 class="section-heading">Viewer buttons<a class="anchor" aria-label="anchor" href="#viewer-buttons"></a>
</h2>
<hr class="half-width">
<p>The viewer buttons (the row of buttons at the bottom left of Napari)
control various aspects of the Napari viewer:</p>
<div class="section level3">
<h3 id="console">Console <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/console.svg" alt="A screenshot of Napari's console button" height="30" class="figure"><a class="anchor" aria-label="anchor" href="#console"></a>
</h3>
<p>This button opens Napari’s built-in python console - we’ll look at
this in later episodes.</p>
</div>
<div class="section level3">
<h3 id="d3d">2D/3D <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/2D.svg" alt="A screenshot of Napari's 2D button" height="25" class="figure"> / <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/3D.svg" alt="A screenshot of Napari's 3D button" height="25" class="figure"><a class="anchor" aria-label="anchor" href="#d3d"></a>
</h3>
<p>This switches the canvas between 2D and 3D display. Try switching to
the 3D view for the cells image:</p>
<figure><img src="../fig/cells-3d-napari.png" alt="A screenshot of 3D cells in Napari" class="figure mx-auto d-block"></figure><p>The controls for moving in 3D are similar to those for 2D:</p>
<pre><code>Rotate - Click and drag
Pan - Shift + click and drag
Zoom - Scroll in/out</code></pre>
</div>
<div class="section level3">
<h3 id="roll-dimensions">Roll dimensions <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/roll.svg" alt="A screenshot of Napari's roll dimensions button" height="25" class="figure"><a class="anchor" aria-label="anchor" href="#roll-dimensions"></a>
</h3>
<p>This changes which image dimensions are displayed in the viewer. For
example, let’s switch back to the 2D view for our cells image and press
the roll dimensions button multiple times. You’ll see that it switches
between different orthogonal views (i.e. at 90 degrees to our starting
view). Pressing it 3 times will bring us back to the original
orientation.</p>
<figure><img src="../fig/roll-dims.png" alt="Three screenshots of the cells image in napari,  with different axes being visualised" class="figure mx-auto d-block"></figure>
</div>
<div class="section level3">
<h3 id="transpose-dimensions">Transpose dimensions <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/transpose.svg" alt="A screenshot of Napari's transpose dimensions button" height="25" class="figure"><a class="anchor" aria-label="anchor" href="#transpose-dimensions"></a>
</h3>
<p>This button swaps the two currently displayed dimensions. Again
trying this for our cells image, we see that the image becomes flipped.
Pressing the button again brings us back to the original
orientation.</p>
<figure><img src="../fig/transpose-dim.png" alt="Two screenshots of the cells image in napari,  with dimensions swapped" class="figure mx-auto d-block"></figure>
</div>
<div class="section level3">
<h3 id="grid">Grid <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/grid.svg" alt="A screenshot of Napari's grid button" height="25" class="figure"><a class="anchor" aria-label="anchor" href="#grid"></a>
</h3>
<p>This button displays all image layers in a grid (+ any additional
layer types, as we’ll see later in the episode). Using this for our
cells image, we see the nuclei (green) displayed next to the cell
membranes (purple), rather than on top of each other.</p>
</div>
<div class="section level3">
<h3 id="home">Home <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/home.svg" alt="A screenshot of Napari's home button" height="25" class="figure"><a class="anchor" aria-label="anchor" href="#home"></a>
</h3>
<p>This button brings the canvas back to its default view. This is
useful if you have panned/zoomed to a specific region and want to
quickly get back to an overview of the full image.</p>
</div>
</section><section id="layer-list"><h2 class="section-heading">Layer list<a class="anchor" aria-label="anchor" href="#layer-list"></a>
</h2>
<hr class="half-width">
<p>Now that we’ve seen the main controls for the viewer, let’s look at
the layer list. ‘Layers’ are how Napari displays multiple items together
in the viewer. For example, currently our layer list contains two items
- ‘nuclei’ and ‘membrane’. These are both <code>Image</code> layers and
are displayed in order, with the nuclei on top and membrane
underneath.</p>
<figure><img src="../fig/layer-list.png" alt="A screenshot of Napari's layer list, showing two  image layers named 'nuclei' and 'membrane'" class="figure mx-auto d-block"></figure><p>We can show/hide each layer by clicking the eye icon on the left side
of their row. We can also rename them by double clicking on the row.</p>
<p>We can change the order of layers by dragging and dropping items in
the layer list. For example, try dragging the membrane layer above the
nuclei. You should see the nuclei disappear from the viewer (as they are
now hidden by the membrane image on top).</p>
<figure><img src="../fig/layer-reordering.png" alt="A screenshot of Napari with the nuclei and  membrane layer swapped" class="figure mx-auto d-block"></figure><p>Here we only have <code>Image</code> layers, but there are many more
types like <code>Points</code>, <code>Shapes</code> and
<code>Labels</code>, some of which we will see later in the episode.</p>
</section><section id="layer-controls"><h2 class="section-heading">Layer controls<a class="anchor" aria-label="anchor" href="#layer-controls"></a>
</h2>
<hr class="half-width">
<p>Next let’s look at the layer controls - this area shows controls only
for the currently selected layer (i.e. the one that is highlighted in
blue in the layer list). For example, if we click on the nuclei layer
then we can see a <code>colormap</code> of green, while if we click on
the membrane layer we see a <code>colormap</code> of magenta.</p>
<p>Controls will also vary depending on layer type (like
<code>Image</code> vs <code>Points</code>) as we will see later in this
episode.</p>
<p>Let’s take a quick look at some of the main image layer controls:</p>
<div class="section level3">
<h3 id="opacity">Opacity<a class="anchor" aria-label="anchor" href="#opacity"></a>
</h3>
<p>This changes the opacity of the layer - lower values are more
transparent. For example, reducing the opacity of the membrane layer (if
it is still on top of the nuclei), allows us to see the nuclei
again.</p>
</div>
<div class="section level3">
<h3 id="contrast-limits">Contrast limits<a class="anchor" aria-label="anchor" href="#contrast-limits"></a>
</h3>
<p>We’ll discuss this in detail in a later episode, but briefly - the
contrast limits adjust what parts of the image we can see and how bright
they appear in the viewer. Moving the left node adjusts what is shown as
fully black, while moving the right node adjusts what is shown as fully
bright.</p>
</div>
<div class="section level3">
<h3 id="colormap">Colormap<a class="anchor" aria-label="anchor" href="#colormap"></a>
</h3>
<p>Again, we’ll discuss this in detail in a later episode, but briefly -
the colormap determines what colours an image is displayed with.
Clicking in the dropdown shows a wide range of options that you can swap
between.</p>
</div>
<div class="section level3">
<h3 id="blending">Blending<a class="anchor" aria-label="anchor" href="#blending"></a>
</h3>
<p>This controls how multiple layers are blended together to give the
final result in the viewer. There are <a href="https://napari.org/stable/guides/layers.html#blending-layers" class="external-link">many
different options to choose from</a>. For example, let’s put the nuclei
layer back on top of the membrane and change its blending to ‘opaque’.
You should see that it now completely hides the membrane layer
underneath. Changing the blending back to ‘additive’ will allow both the
nucleus and membrane layers to be seen together again.</p>
<div id="using-image-layer-controls" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="using-image-layer-controls" class="callout-inner">
<h3 class="callout-title">Using image layer controls<a class="anchor" aria-label="anchor" href="#using-image-layer-controls"></a>
</h3>
<div class="callout-content">
<p>Adjust the layer controls for both nuclei and membrane to give the
result below:</p>
<figure><img src="../fig/layer-controls-task.png" alt="Cells image with blue nuclei and bright  red membranes" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ul>
<li>Click on the nuclei in the layer list</li>
<li>Change the colormap to cyan</li>
<li>Click on the membrane in the layer list</li>
<li>Change the colormap to red</li>
<li>Move the right contrast limits node to the left to make the
membranes appear brighter</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</section><section id="layer-buttons"><h2 class="section-heading">Layer buttons<a class="anchor" aria-label="anchor" href="#layer-buttons"></a>
</h2>
<hr class="half-width">
<p>So far we have only looked at <code>Image</code> layers, but there
are many more types supported by Napari. The layer buttons allow us to
add additional layers of these new types:</p>
<div class="section level3">
<h3 id="points">Points <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/new_points.svg" alt="A screenshot of Napari's point layer button" height="30" class="figure"><a class="anchor" aria-label="anchor" href="#points"></a>
</h3>
<p>This button creates a new <a href="https://napari.org/stable/howtos/layers/points.html" class="external-link">points
layer</a>. This can be used to mark specific locations in an image.</p>
</div>
<div class="section level3">
<h3 id="shapes">Shapes <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/new_shapes.svg" alt="A screenshot of Napari's shape layer button" height="30" class="figure"><a class="anchor" aria-label="anchor" href="#shapes"></a>
</h3>
<p>This button creates a new <a href="https://napari.org/stable/howtos/layers/shapes.html" class="external-link">shapes
layer</a>. Shapes can be used to mark regions of interest e.g. with
rectangles, ellipses or lines.</p>
</div>
<div class="section level3">
<h3 id="labels">Labels <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/new_labels.svg" alt="A screenshot of Napari's labels layer button" height="30" class="figure"><a class="anchor" aria-label="anchor" href="#labels"></a>
</h3>
<p>This button creates a new <a href="https://napari.org/stable/howtos/layers/labels.html" class="external-link">labels
layer</a>. This is usually used to label specific regions in an image
e.g. to label individual nuclei.</p>
</div>
<div class="section level3">
<h3 id="remove-layer">Remove layer <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/delete.svg" alt="A screenshot of Napari's delete layer button" height="30" class="figure"><a class="anchor" aria-label="anchor" href="#remove-layer"></a>
</h3>
<p>This button removes the currently selected layer (highlighted in
blue) from the layer list.</p>
<div id="other-layer-types" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="other-layer-types" class="callout-inner">
<h3 class="callout-title">Other layer types<a class="anchor" aria-label="anchor" href="#other-layer-types"></a>
</h3>
<div class="callout-content">
<p>Note that there are some layer types that can’t be added via clicking
buttons in the user interface, like <a href="https://napari.org/stable/howtos/layers/surface.html" class="external-link">surfaces</a>,
<a href="https://napari.org/stable/howtos/layers/tracks.html" class="external-link">tracks</a>
and <a href="https://napari.org/stable/howtos/layers/vectors.html" class="external-link">vectors</a>.
These require calling python commands in Napari’s console or an external
python script.</p>
</div>
</div>
</div>
<div id="point-layers" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="point-layers" class="callout-inner">
<h3 class="callout-title">Point layers<a class="anchor" aria-label="anchor" href="#point-layers"></a>
</h3>
<div class="callout-content">
<p>Let’s take a quick look at one of these new layer types - the
<code>Points</code> layer.</p>
<p>Add a new points layer by clicking the points button. Investigate the
different layer controls - what do they do? Note that hovering over
buttons will usually show a summary tooltip.</p>
<p>Add points and adjust settings to give the result below:</p>
<figure><img src="../fig/points-task.png" alt="Cells image with points marking multiple nuclei" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<ul>
<li>Click the ‘add points’ button <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/add.svg" alt="Screenshot of Napari's add points button" height="30" class="figure">
</li>
<li>Click on nuclei to add points on top of them</li>
<li>Click the ‘select points’ button <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/select.svg" alt="Screenshot of Napari's select points button" height="30" class="figure">
</li>
<li>Click on the point over the dividing nucleus</li>
<li>Increase the point size slider</li>
<li>Change its symbol to star</li>
<li>Change its face colour to purple</li>
<li>change its edge colour to white</li>
</ul>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>There are many software options for light microscopy images</li>
<li>Napari and Fiji/ImageJ are popular open-source options</li>
<li>Napari’s user interface is split into a few main sections including
the canvas, layer list, layer controls…</li>
<li>Layers can be of different types e.g. <code>Image</code>,
<code>Point</code>, <code>Label</code>
</li>
<li>Different layer types have different layer controls</li>
</ul>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</div>
</section></section><section id="aio-what-is-an-image"><p>Content from <a href="what-is-an-image.html">What is an image?</a></p>
<hr>
<p> Last updated on 2023-12-13 | 
        
        <a href="https://example.com/FIXME-template-source/edit/main/episodes/what-is-an-image.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time <i aria-hidden="true" data-feather="clock"></i> 40 minutes </p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How are images represented in the computer?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li><p>Explain how a digital image is made of pixels</p></li>
<li><p>Find the value of different pixels in an image in Napari</p></li>
<li><p>Determine an image’s dimensions (numpy ndarray
<code>.shape</code>)</p></li>
<li><p>Determine an image’s data type (numpy ndarray
<code>.dtype</code>)</p></li>
<li><p>Explain the coordinate system used for images</p></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>In the last episode, we looked at how to view images in Napari. Let’s
take a step back now and try to understand how Napari (or ImageJ or any
other viewer) understands how to display images properly. To do that we
must first be able to answer the fundamental question - what is an
image?</p>
<section id="pixels"><h2 class="section-heading">Pixels<a class="anchor" aria-label="anchor" href="#pixels"></a>
</h2>
<hr class="half-width">
<p>Let’s start by removing all the layers we added to the Napari viewer
last episode. Then we can open a new sample image:</p>
<ul>
<li><p>Click on the top layer in the layer list and <kbd>shift</kbd> +
click the bottom layer. This should highlight all layers in
blue.</p></li>
<li><p>Press the remove layer button <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/delete.svg" alt="A screenshot of Napari's delete layer button" height="30" class="figure"></p></li>
<li><p>Go to the top menu-bar of Napari and select:<br><code>File &gt; Open Sample &gt; napari builtins &gt; Human Mitosis</code></p></li>
</ul>
<figure><img src="../fig/human-mitosis-napari.png" alt="A screenshot of a 2D image of human cells  undergoing mitosis in Napari" class="figure mx-auto d-block"></figure><p>This 2D image shows the nuclei of human cells undergoing mitosis. If
we really zoom in up-close by scrolling, we can see that this image is
actually made up of many small squares with different brightness values.
These squares are the image’s pixels (or ‘picture elements’) and are the
individual units that make up all digital images.</p>
<p>If we hover over these pixels with the mouse cursor, we can see that
each pixel has a specific value. Try hovering over pixels in dark and
bright areas of the image and see how the value changes in the bottom
left of the viewer:</p>
<figure><img src="../fig/pixel-value.png" alt="A screenshot of Napari - with the mouse cursor  hovering over a pixel and highlighting the corresponding pixel value" class="figure mx-auto d-block"></figure><p>You should see that brighter areas have higher values than darker
areas (we’ll see exactly how these values are converted to colours in
the next episode).</p>
</section><section id="images-are-arrays-of-numbers"><h2 class="section-heading">Images are arrays of numbers<a class="anchor" aria-label="anchor" href="#images-are-arrays-of-numbers"></a>
</h2>
<hr class="half-width">
<p>We’ve seen that images are made of individual units called pixels
that have specific values - but how is an image really represented in
the computer? Let’s dig deeper into Napari’s <code>Image</code>
layers…</p>
<p>First, open Napari’s built-in Python console by pressing the console
button <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/console.svg" alt="A screenshot of Napari's console button" height="30" class="figure">. Note
this can take a few seconds to open, so give it some time:</p>
<figure><img src="../fig/console.png" alt="A screenshot of Napari's console" class="figure mx-auto d-block"></figure><div id="console-readability" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="console-readability" class="callout-inner">
<h3 class="callout-title">Console readability<a class="anchor" aria-label="anchor" href="#console-readability"></a>
</h3>
<div class="callout-content">
<p>You can increase the font size in the console by clicking inside it,
then pressing <kbd>Ctrl</kbd> and <kbd>+</kbd> together. The font size
can also be decreased with <kbd>Ctrl</kbd> and <kbd>-</kbd>
together.</p>
<p>Note that you can also pop the console out into its own window by
clicking the small <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/pop_out.svg" alt="A screenshot of Napari's float panel button" height="30" class="figure">
icon on the left side.</p>
</div>
</div>
</div>
<p>Let’s look at the human mitosis image more closely - copy the text in
the ‘Python’ cell below into Napari’s console and then press the
<kbd>Enter</kbd> key. You should see it returns text that matches the
‘Output’ cell below in response.</p>
<p>All of the information about the Napari viewer can be accessed
through the console with a variable called <code>viewer</code>. A
<code>viewer</code> has 1 to many layers, and here we access the top
(first) layer with <code>viewer.layers[0]</code>. Then, to access the
actual image data stored in that layer, we retrieve it with
<code>.data</code>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the image data for the first layer in Napari</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>image <span class="op">=</span> viewer.layers[<span class="dv">0</span>].data</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the image values and type</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(image)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(image))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[ 8  8  8 ... 63 78 75]
 [ 8  8  7 ... 67 71 71]
 [ 9  8  8 ... 53 64 66]
 ...
 [ 8  9  8 ... 17 24 59]
 [ 8  8  8 ... 17 22 55]
 [ 8  8  8 ... 16 18 38]]
 
 &lt;class 'numpy.ndarray'&gt;</code></pre>
</div>
<p>You should see that a series of numbers are printed out that are
stored in a Python data type called a <code>numpy.ndarray</code>.
Fundamentally, this means that all images are really just arrays of
numbers (one number per pixel). Arrays are just rectangular grids of
numbers, much like a spreadsheet. Napari is reading those values and
converting them into squares of particular colours for us to see in the
viewer, but this is only to help us interpret the image contents - the
numbers are the real underlying data.</p>
<p>For example, look at the simplified image of an arrow below. On the
left is the array of numbers, with the corresponding image display on
the right. This is called a 4 by 4 image, as it has 4 rows and 4
columns:</p>
<figure><img src="../fig/array.png" alt="A diagram comparing the array of numbers and image  display for a simplified image of an arrow" class="figure mx-auto d-block"></figure><p>In Napari this array is a <code>numpy.ndarray</code>. <a href="https://numpy.org/" class="external-link">NumPy</a> is a popular python package that
provides ‘n-dimensional arrays’ (or ‘ndarray’ for short). N-dimensional
just means they can support any number of dimensions - for example, 2D
(squares/rectangles of numbers), 3D (cubes/cuboids of numbers) and
beyond (like time series, images with many channels etc. where we would
have multiple rectangles or cuboids of data which provide further
information all at the same location).</p>
</section><section id="creating-an-image"><h2 class="section-heading">Creating an image<a class="anchor" aria-label="anchor" href="#creating-an-image"></a>
</h2>
<hr class="half-width">
<p>Where do the numbers in our image array come from? The exact details
of how an image is created will depend on the type of microscope you are
using e.g.  widefield, confocal, superresolution etc. In general though,
we have 3 main parts:</p>
<ul>
<li>
<strong>Sample:</strong> the object we want to image e.g. some
cells</li>
<li>
<strong>Objective lens:</strong> the lens that gathers the light and
focuses it for detection</li>
<li>
<strong>Detector:</strong> the device that detects the light to form
the digital image e.g. a CCD camera</li>
</ul>
<p>To briefly summarise, light is emitted from the sample (e.g. from a
fluorescent marker), then gathered and focused with the objective lens,
before hitting the detector. The detector is divided into many small,
light sensitive areas - these are physical pixels, that will correspond
to the pixels in the final image. When light hits one of these areas it
is converted to one or more electrons, with more light resulting in more
electrons and a higher final value for that pixel.</p>
<p>The important factor to understand is that the final pixel value is
only ever an approximation of the real sample. Many factors will affect
this final result including the microscope optics, detector performance
etc.</p>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion<a class="anchor" aria-label="anchor" href="#discussion1"></a>
</h3>
<div class="callout-content">
<p>Read the <a href="https://bioimagebook.github.io/chapters/1-concepts/1-images_and_pixels/images_and_pixels.html#a-simple-microscope" class="external-link">‘A
simple microscope’ section of Pete Bankhead’s bioimage book</a>.</p>
<ul>
<li>What are some factors that influence pixel values?</li>
<li>Can you come up with suggestions for any more?</li>
</ul>
</div>
</div>
</div>
</section><section id="image-dimensions"><h2 class="section-heading">Image dimensions<a class="anchor" aria-label="anchor" href="#image-dimensions"></a>
</h2>
<hr class="half-width">
<p>Let’s return to our human mitosis image and explore some of the key
features of its image array. First, what size is it?</p>
<p>We can find this out by running the following in Napari’s
console:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>image.shape</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>(512, 512)</code></pre>
</div>
<p>The array size (also known as its dimensions) is stored in the
<code>.shape</code>. Here we see that it is <code>(512, 512)</code>
meaning this image is 512 pixels high and 512 pixels wide. Two values
are printed as this image is two dimensional (2D), for a 3D image there
would be 3, for a 4D image (e.g. with an additional time series) there
would be 4 and so on…</p>
</section><section id="image-data-type"><h2 class="section-heading">Image data type<a class="anchor" aria-label="anchor" href="#image-data-type"></a>
</h2>
<hr class="half-width">
<p>The other key feature of an image array is its ‘data type’ - this
controls which values can be stored inside of it. For example, let’s
look at the data type for our human mitosis image - this is stored in
<code>.dtype</code>:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>image.dtype</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span></span>
<span><span class="fu">dtype</span><span class="op">(</span><span class="st">'uint8'</span><span class="op">)</span></span></code></pre>
</div>
<p>We see that the data type (or ‘dtype’ for short) is
<code>uint8</code>. This is short for ‘unsigned integer 8-bit’. Let’s
break this down further into two parts - the type (unsigned integer) and
the bit-depth (8-bit).</p>
</section><section id="type"><h2 class="section-heading">Type<a class="anchor" aria-label="anchor" href="#type"></a>
</h2>
<hr class="half-width">
<p>The type determines what kind of values can be stored in the array,
for example:</p>
<ul>
<li>Unsigned integer: positive whole numbers</li>
<li>Signed integer: positive and negative whole numbers</li>
<li>Float: positive and negative numbers with a decimal point
e.g. 3.14</li>
</ul>
<p>For our mitosis image, ‘unsigned integer’ means that only positive
whole numbers can be stored inside. You can see this by hovering over
the pixels in the image again in Napari - the pixel value down in the
bottom left is always a positive whole number.</p>
</section><section id="bit-depth"><h2 class="section-heading">Bit depth<a class="anchor" aria-label="anchor" href="#bit-depth"></a>
</h2>
<hr class="half-width">
<p>The bit depth determines the range of values that can be stored
e.g. only values between 0 and 255. This is directly related to how the
array is stored in the computer.</p>
<p>In the computer, each pixel value will ultimately be stored in some
binary format as a series of ones and zeros. Each of these ones or zeros
is known as a ‘bit’, and the ‘bit depth’ is the number of bits used to
store each value. For example, our mitosis image uses 8 bits to store
each value (i.e.  a series of 8 ones or zeros like
<code>00000000</code>, or <code>01101101</code>…).</p>
<p>The reason the bit depth is so important is that it dictates the
number of different values that can be stored. In fact it is equal
to:</p>
<p><span class="math display">\[\large \text{Number of values} =
2^{\text{(bit depth)}}\]</span></p>
<p>Going back to our mitosis image, since it is stored as integers with
a bit-depth of 8, this means that it can store <span class="math inline">\(2^8 = 256\)</span> different values. This is equal
to a range of 0-255 for unsigned integers.</p>
<p>We can verify this by looking at the maximum value of the mitosis
image:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(image.<span class="bu">max</span>())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span></span>
<span><span class="fl">255</span></span></code></pre>
</div>
<p>You can also see this by hovering over the brightest nuclei in the
viewer and examining their pixel values. Even the brightest nuclei won’t
exceed the limit of 255.</p>
<div id="dimensions-and-data-types" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="dimensions-and-data-types" class="callout-inner">
<h3 class="callout-title">Dimensions and data types<a class="anchor" aria-label="anchor" href="#dimensions-and-data-types"></a>
</h3>
<div class="callout-content">
<p>Let’s open a new image by removing all layers from the Napari viewer,
then copying and pasting the following lines into the Napari
console:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> skimage <span class="im">import</span> data</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>viewer.add_image(data.brain()[<span class="dv">9</span>, :, :], name<span class="op">=</span><span class="st">"brain"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>image <span class="op">=</span> viewer.layers[<span class="st">"brain"</span>].data</span></code></pre>
</div>
<p>This opens a new 2D image of part of a human head X-ray.</p>
<ul>
<li><p>What are the dimensions of this image?</p></li>
<li><p>What type and bit depth is this image?</p></li>
<li><p>What are the possible min/max values of this image array, based
on the bit depth?</p></li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="section level3">
<h3 id="dimensions">Dimensions<a class="anchor" aria-label="anchor" href="#dimensions"></a>
</h3>
<p>The image’s dimensions are (256, 256)</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>image.shape</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
(256, 256)</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="type-and-bit-depth">Type and bit depth<a class="anchor" aria-label="anchor" href="#type-and-bit-depth"></a>
</h3>
<p>The image’s type and bit depth are: unsigned integer 16-bit</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>image.dtype</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span></span>
<span><span class="fu">dtype</span><span class="op">(</span><span class="st">'uint16'</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="min-and-max">Min and max<a class="anchor" aria-label="anchor" href="#min-and-max"></a>
</h3>
<p>Based on a bit depth of 16, this image can store <span class="math inline">\(2^{16} = 65536\)</span> values. As it is of type
‘unsigned integer’ this corresponds to a min and max of 0 and 65535.</p>
</div>
</div>
</div>
</div>
</div>
</section><section id="common-data-types"><h2 class="section-heading">Common data types<a class="anchor" aria-label="anchor" href="#common-data-types"></a>
</h2>
<hr class="half-width">
<p>NumPy supports a <a href="https://numpy.org/doc/stable/reference/arrays.scalars.html#sized-aliases" class="external-link">very
wide range of data types</a>, but there are a few that are most common
for image data:</p>
<table class="table">
<thead><tr class="header">
<th align="left">NumPy datatype</th>
<th align="left">Full name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code>uint8</code></td>
<td align="left">Unsigned integer 8-bit</td>
</tr>
<tr class="even">
<td align="left"><code>uint16</code></td>
<td align="left">Unsigned integer 16-bit</td>
</tr>
<tr class="odd">
<td align="left"><code>float32</code></td>
<td align="left">Float 32-bit</td>
</tr>
<tr class="even">
<td align="left"><code>float64</code></td>
<td align="left">Float 64-bit</td>
</tr>
</tbody>
</table>
<p><code>uint8</code> and <code>uint16</code> are most common for images
from light microscopes. <code>float32</code> and <code>float64</code>
are common during image processing (as we will see in later
episodes).</p>
</section><section id="choosing-a-bit-depth"><h2 class="section-heading">Choosing a bit depth<a class="anchor" aria-label="anchor" href="#choosing-a-bit-depth"></a>
</h2>
<hr class="half-width">
<p>Most images are either 8-bit or 16-bit - so how to choose which to
use? A higher bit depth will allow a wider range of values to be stored,
but it will also result in larger file sizes for the resulting images.
In general, a 16-bit image will have a file size that is about twice as
large as an 8-bit image if no compression is used (we’ll discuss
compression in a later episode).</p>
<p>The best bit depth choice will depend on your particular imaging
experiment and research question. For example, if you know you have to
recognise features that only differ slightly in their brightness, then
you will likely need 16-bit to capture this. Equally, if you know that
you will need to collect a very large number of images and 8-bit is
sufficient to see your features of interest, then 8-bit may be a better
choice to reduce the required file storage space. As always it’s about
choosing the best fit for your specific project!</p>
<p>For more information on bit depths and types - we highly recommend <a href="https://bioimagebook.github.io/chapters/1-concepts/3-bit_depths/bit_depths.html" class="external-link">the
‘Types &amp; bit-depths’ chapter from Pete Bankhead’s free bioimage
book</a>.</p>
<div id="clipping-and-overflow" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="clipping-and-overflow" class="callout-inner">
<h3 class="callout-title">Clipping and overflow<a class="anchor" aria-label="anchor" href="#clipping-and-overflow"></a>
</h3>
<div class="callout-content">
<p>It’s important to be aware of what image type and bit depth you are
using. If you try to store values outside of the valid range, this can
lead to <em>clipping</em> and <em>overflow</em>.</p>
<ul>
<li><p>Clipping: Values outside the valid range are changed to the
closest valid value. For example, storing 1000 in a <code>uint8</code>
image may result in 255 being stored instead (the max value)</p></li>
<li><p>Overflow: For NumPy arrays, values outside the valid range are
‘wrapped around’ to give the new result. For example, storing 256 in a
<code>uint8</code> image (max 255) would give 0, 257 would give 1 and so
on…</p></li>
</ul>
<p>Clipping and overflow result in data loss - you can’t get the
original values back! So it’s always good to keep the data type in mind
when doing image processing operations (as we will see in later
episodes), and also when converting between different bit depths.</p>
</div>
</div>
</div>
</section><section id="coordinate-system"><h2 class="section-heading">Coordinate system<a class="anchor" aria-label="anchor" href="#coordinate-system"></a>
</h2>
<hr class="half-width">
<p>We’ve seen that images are arrays of numbers with a specific shape
(dimensions) and data type. How do we access specific values from this
array? What coordinate system is Napari using?</p>
<p>To look into this, let’s hover over pixels in our mitosis image and
examine the coordinates that appear to the left of the pixel value. If
you closed the mitosis image, then open it again by removing all layers
and selecting:
<code>File &gt; Open Sample &gt; napari builtins &gt; Human Mitosis</code>:</p>
<figure><img src="../fig/coordinates.png" alt="A screenshot of Napari - with the mouse cursor  hovering over a pixel and highlighting the corresponding coordinates" class="figure mx-auto d-block"></figure><p>As you move around, you should see that the lowest coordinate values
are at the top left corner, with the first value increasing as you move
down and the second value increasing as you move to the right. This is
different to the standard coordinate systems you may be used to (for
example, from making graphs):</p>
<figure><img src="../fig/coordinate-system.png" alt="Diagram comparing a standard graph  coordinate system (left) and the image coordinate system (right)" class="figure mx-auto d-block"></figure><p>Note that Napari lists coordinates as [y, x] or [rows, columns], so
e.g. [1,3] would be the pixel in row 1 and column 3. Remember that these
coordinates always start from 0 as you can see in the diagram below:</p>
<figure><img src="../fig/coordinates-on-image.png" style="width:50.0%" alt="A diagram showing how pixel coordinates change over a simple 4x4 image" class="figure mx-auto d-block"></figure><p>For the mitosis image, these coordinates are in pixels, but we’ll see
in later episodes that images can also be scaled based on resolution to
represent distances in the physical world (e.g. in micrometres). Also,
bear in mind that images with more dimensions (e.g. a 3D image) will
have longer coordinates like [z, y, x]…</p>
<div id="reading-and-modifying-pixel-values" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="reading-and-modifying-pixel-values" class="callout-inner">
<h3 class="callout-title">Reading and modifying pixel values<a class="anchor" aria-label="anchor" href="#reading-and-modifying-pixel-values"></a>
</h3>
<div class="callout-content">
<p>First, make sure you only have the human mitosis image open (close
any others). Run the following line in the console to ensure you are
referencing the correct image:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the image data for the layer called 'human_mitosis'</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>image <span class="op">=</span> viewer.layers[<span class="st">"human_mitosis"</span>].data</span></code></pre>
</div>
<p>Pixel values can be read by hovering over them in the viewer, or by
running the following in the console:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace y and x with the correct y and x coordinate e.g. image[3, 5]</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(image[y, x])</span></code></pre>
</div>
<p>Pixel values can be changed by running the following in the
console:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace y and x with the correct y and x coordinate, and</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 'pixel_value' with the desired new pixel value e.g. image[3, 5] = 10</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>image[y, x] <span class="op">=</span> pixel_value</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>viewer.layers[<span class="st">"human_mitosis"</span>].refresh()</span></code></pre>
</div>
<p>Given this information:</p>
<ol style="list-style-type: decimal">
<li>What is the pixel value at x=213 and y=115?</li>
<li>What is the pixel value at x=25 and y=63?</li>
<li>Change the value of the pixel at x=10 and y=15 to 200. Check the new
value - is it correct? If not, why not?</li>
<li>Change the value of the pixel at x=10 and y=15 to 300. Check the new
value - is it correct? If not, why not?</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="section level3">
<h3 id="section">1<a class="anchor" aria-label="anchor" href="#section"></a>
</h3>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>image[<span class="dv">115</span>, <span class="dv">213</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span></span>
<span><span class="fl">162</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="section-1">2<a class="anchor" aria-label="anchor" href="#section-1"></a>
</h3>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>image[<span class="dv">63</span>, <span class="dv">25</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span></span>
<span><span class="fl">9</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="section-2">3<a class="anchor" aria-label="anchor" href="#section-2"></a>
</h3>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>image[<span class="dv">15</span>, <span class="dv">10</span>] <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>viewer.layers[<span class="st">"human_mitosis"</span>].refresh()</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(image[<span class="dv">15</span>, <span class="dv">10</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span></span>
<span><span class="fl">200</span></span></code></pre>
</div>
<p>The new value is correct. If you zoom into the top left corner of the
image, you should see the one bright pixel you just created.</p>
</div>
<div class="section level3">
<h3 id="section-3">4<a class="anchor" aria-label="anchor" href="#section-3"></a>
</h3>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>image[<span class="dv">15</span>, <span class="dv">10</span>] <span class="op">=</span> <span class="dv">300</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>viewer.layers[<span class="st">"human_mitosis"</span>].refresh()</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(image[<span class="dv">15</span>, <span class="dv">10</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span></span>
<span><span class="fl">44</span></span></code></pre>
</div>
<p>The new value is not correct. This is because 300 exceeds the maximum
value for this 8-bit image (max 255). The value therefore overflows and
‘wraps around’ to give 44 - an incorrect value.</p>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Digital images are made of pixels</li>
<li>Digital images store these pixels as arrays of numbers</li>
<li>Light microscopy images are only an approximation of the real
sample</li>
<li>Napari (and Python more widely) use NumPy arrays to store images -
these have a <code>shape</code> and <code>dtype</code>
</li>
<li>Most images are 8-bit or 16-bit unsigned integer</li>
<li>Images use a coordinate system with (0,0) at the top left, x
increasing to the right, and y increasing down</li>
</ul>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
				<p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://example.com/FIXME-template-source/edit/main/README.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://example.com/FIXME-template-source/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a> 
        | <a href="https://example.com/FIXME-template-source/" class="external-link">Source</a></p>
				<p><a href="https://example.com/FIXME-template-source/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="../LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">Template licensed under CC-BY 4.0</a> by <a href="https://carpentries.org" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/HealthBioscienceIDEAS/sandpaper/tree/IDEAS" class="external-link">sandpaper (0.14.1.9000)</a>,
        <a href="https://github.com/carpentries/pegboard/tree/1bc5753e917d515c3d888ce6cc013c0a680eacfc" class="external-link">pegboard (0.7.3)</a>,
      and <a href="https://github.com/HealthBioscienceIDEAS/varnish/tree/IDEAS" class="external-link">varnish (0.3.3.9000)</a>.</p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
			<i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back to top"></i><br><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://FIXME-template-source.github.io/NA/instructor/aio.html",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://FIXME-template-source.github.io/NA/instructor/aio.html",
  "identifier": "https://FIXME-template-source.github.io/NA/instructor/aio.html",
  "dateCreated": "2023-10-26",
  "dateModified": "2023-12-13",
  "datePublished": "2023-12-13"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

