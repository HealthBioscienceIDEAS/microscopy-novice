<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Image Analysis for Microscopy: Image display</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav IDEAS"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="IDEAS" src="assets/images/IDEAS-logo.svg"><abbr class="badge badge-light" title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught." style="background-color: #FF4955; border-radius: 5px">
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link" style="color: #000">
            <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
            Pre-Alpha
          </a>
          <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
        </abbr>

      </div>
    </div>
    <div class="selector-container">


      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/image-display.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav IDEAS" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="IDEAS" src="assets/images/IDEAS-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Image Analysis for Microscopy
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Image Analysis for Microscopy
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Image Analysis for Microscopy
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 19%" class="percentage">
    19%
  </div>
  <div class="progress IDEAS">
    <div class="progress-bar IDEAS" role="progressbar" style="width: 19%" aria-valuenow="19" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/image-display.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="imaging-software.html">1. Imaging Software</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="what-is-an-image.html">2. What is an image?</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        3. Image display
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#image-array-and-display">Image array and display</a></li>
<li><a href="#napari-plugins">Napari plugins</a></li>
<li><a href="#image-histograms">Image histograms</a></li>
<li><a href="#changing-display-settings">Changing display settings</a></li>
<li><a href="#colormaps-luts">Colormaps / LUTs</a></li>
<li><a href="#brightness-and-contrast">Brightness and contrast</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="multi-dimensional-images.html">4. Multi-dimensional images</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="filetypes-and-metadata.html">5. Filetypes and metadata</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="designing-a-light-microscopy-experiment.html">6. Designing a light microscopy experiment</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="choosing-acquisition-settings.html">7. Choosing acquisition settings</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="quality-control-and-manual-segmentation.html">8. Quality control and manual segmentation</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="filters-and-thresholding.html">9. Filters and thresholding</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="instance-segmentation-and-measurements.html">10. Instance segmentation and measurements</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="additional-resources.html">11. Additional resources</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="what-is-an-image.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="multi-dimensional-images.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="what-is-an-image.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: What is an image?
        </a>
        <a class="chapter-link float-end" href="multi-dimensional-images.html" rel="next">
          Next: Multi-dimensional...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Image display</h1>
        <p>Last updated on 2024-08-16 |

        <a href="https://github.com/HealthBioscienceIDEAS/microscopy-novice/edit/main/episodes/image-display.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How are pixel values converted into colours for display?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Create a histogram for an image</li>
<li>Install plugins from Napari Hub</li>
<li>Change colormap (LUT) in Napari</li>
<li>Adjust brightness and contrast in Napari</li>
<li>Explain the importance of always retaining a copy of the original
pixel values</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="image-array-and-display">Image array and display<a class="anchor" aria-label="anchor" href="#image-array-and-display"></a></h2>
<hr class="half-width"><p>Last episode we saw that images are arrays of numbers with specific
dimensions and data type. Napari reads these numbers (pixel values) and
converts them into colours on our display, allowing us to view the
image. Exactly how this conversion is done can vary greatly, and is the
topic of this episode.</p>
<p>For example, take the image array shown below. Depending on the
display settings, it can look very different inside Napari:</p>
<figure><img src="fig/same-array-diff-display.png" style="width:70.0%" alt="Diagram showing an image array (top) with three different colormap  options (bottom)" class="figure mx-auto d-block"></figure><p>Equally, image arrays with different pixel values can look the same
in Napari depending on the display settings:</p>
<figure><img src="fig/diff-array-same-display.png" style="width:50.0%" alt="Diagram showing two image arrays - 8-bit vs 16-bit (top) with the same  display (bottom)" class="figure mx-auto d-block"></figure><p>In summary, we can’t rely on appearance alone to understand the
underlying pixel values. Display settings (like the colormap, brightness
and contrast - as we will see below) have a big impact on how the final
image looks.</p>
</section><section><h2 class="section-heading" id="napari-plugins">Napari plugins<a class="anchor" aria-label="anchor" href="#napari-plugins"></a></h2>
<hr class="half-width"><p>How can we quickly assess the pixel values in an image? We could
hover over pixels in Napari, or print the array into Napari’s console
(as we saw last episode), but these are hard to interpret at a glance. A
much better option is to use an image histogram.</p>
<p>To do this, we will have to install a new plugin for Napari. Remember
from the <a href="imaging-software.html">Imaging Software episode</a>
that plugins add new features to a piece of software. Napari has
hundreds of plugins available on the <a href="https://www.napari-hub.org/" class="external-link">napari hub</a> website.</p>
<p>Let’s start by going to the napari hub and searching for
‘matplotlib’:</p>
<figure><img src="fig/napari-hub.png" alt="Screenshot of searching 'matplotlib' on napari hub" class="figure mx-auto d-block"></figure><p>You should see ‘napari Matplotlib’ appear in the list (if not, try
scrolling further down the page). If we click on
<code>napari matplotlib</code> this opens a summary of the plugin with
links to the documentation. There’s also a useful ‘Activity’ tab that
summarises the number of installs and maintenance history of the
plugin:</p>
<figure><img src="fig/napari-hub-activity.png" alt="Screenshot of napari-matplotlib's activity tab on napari hub" class="figure mx-auto d-block"></figure><p>Now that we’ve found the plugin we want to use, let’s go ahead and
install it in Napari. Note that some plugins have special requirements
for installation, so it’s always worth checking their napari hub page
for any extra instructions. In the top menu bar of Napari select:<br><code>Plugins &gt; Install/Uninstall Plugins...</code></p>
<figure><img src="fig/plugin-installation.png" alt="Screenshot of plugin installation window in Napari" class="figure mx-auto d-block"></figure><p>This should open a window summarising all installed plugins (at the
top) and all available plugins to install (at the bottom). If we search
for ‘matplotlib’ in the top searchbar, then ‘napari-matplotlib’ will
appear under ‘Available Plugins’. Press the blue install button and wait
for it to finish. <strong>You’ll then need to close and re-open
Napari.</strong></p>
<p>If all worked as planned, you should see a new option in the top
menubar under:<br><code>Plugins &gt; napari Matplotlib</code></p>
<div id="finding-plugins" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="finding-plugins" class="callout-inner">
<h3 class="callout-title">Finding plugins</h3>
<div class="callout-content">
<p>Napari hub contains hundreds of plugins with varying quality, written
by many different developers. It can be difficult to choose which
plugins to use!</p>
<ul><li>Search for cell tracking plugins on <a href="https://www.napari-hub.org/" class="external-link">Napari hub</a>
</li>
<li>Look at some of the plugin summaries and ‘Activity’ tabs</li>
<li>What factors could help you decide if the plugin is well
maintained?</li>
<li>What factors could help you decide if the plugin is popular with
Napari users?</li>
</ul></div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="section level3">
<h3 id="is-a-plugin-well-maintained">Is a plugin well maintained?<a class="anchor" aria-label="anchor" href="#is-a-plugin-well-maintained"></a></h3>
<p>Some factors to look for:</p>
<p><strong>Last updated</strong><br>
Check when the plugin was last updated - was it recently? This is shown
in the search list summary and under ‘Maintenance’ in the activity tab.
In the activity tab, you can also look at a graph summarising the
‘commits’ over the past year - ‘commits’ are made when someone updates
their plugin with new changes.</p>
<p><strong>Documentation</strong><br>
Is the plugin summary (+ any linked documentation) detailed enough to
explain how to use the plugin?</p>
</div>
<div class="section level3">
<h3 id="is-a-plugin-popular">Is a plugin popular?<a class="anchor" aria-label="anchor" href="#is-a-plugin-popular"></a></h3>
<p>Some factors to look for:</p>
<p><strong>Installs</strong><br>
Check how many times a plugin has been installed - a higher number of
installs usually means it’s more popular in the Napari community. The
installs are shown in the search list summary and under ‘Usage’ in the
activity tab. In the activity tab, you can also look at a graph
summarising the installs over the past year.</p>
<p><strong>Image.sc</strong><br>
It can also be useful to search the plugin’s name on the <a href="https://forum.image.sc/" class="external-link">image.sc</a> forum to browse relevant
posts and see if other people had good experiences using it. Image.sc is
also a great place to get help and advice from other plugin users, or
the plugin’s developers.</p>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="image-histograms">Image histograms<a class="anchor" aria-label="anchor" href="#image-histograms"></a></h2>
<hr class="half-width"><p>Let’s use our newly installed plugin to look at the human mitosis
image. If you don’t have it open, go the top menubar and select:<br><code>File &gt; Open Sample &gt; napari builtins &gt; Human Mitosis</code></p>
<p>Then open the image histogram with:<br><code>Plugins &gt; napari Matplotlib &gt; Histogram</code></p>
<p>You should see a histogram open on the right side of the image:</p>
<figure><img src="fig/mitosis-histogram.png" style="width:70.0%" alt="Screenshot of image histogram for mitosis image" class="figure mx-auto d-block"></figure><p>This histogram summarises the pixel values of the entire image. On
the x axis is the pixel value which run from 0-255 for this 8-bit image.
This is split into a number of ‘bins’ of a certain width (for example,
it could be 0-10, 11-20 and so on…). Each bin has a blue bar whose
height represents the number of pixels with values in that bin. So, for
example, for our mitosis image we see the highest bars to the left, with
shorter bars to the right. This means this image has a lot of very dark
(low intensity) pixels and fewer bright (high intensity) pixels.</p>
<p>The vertical white lines at 0 and 255 represent the current ‘contrast
limits’ - we’ll look at this in detail in a <a href="#brightness-and-contrast">later section of this episode</a>.</p>
<p>Let’s quickly compare to another image. Open the ‘coins’ image
with:<br><code>File &gt; Open Sample &gt; napari builtins &gt; Coins</code></p>
<figure><img src="fig/coins-histogram.png" style="width:68.0%" alt="Screenshot of image histogram for coins image" class="figure mx-auto d-block"></figure><p>From the histogram, we can see that this image has a wider spread of
pixel values. There are bars of similar height across many different
values (rather than just one big peak at the left hand side).</p>
<p>Image histograms are a great way to quickly summarise and compare
pixel values of different images.</p>
<div id="histograms" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="histograms" class="callout-inner">
<h3 class="callout-title">Histograms</h3>
<div class="callout-content">
<p>Match each of these small test images to their corresponding
histogram. You can assume that all images are displayed with a standard
gray colormap and default contrast limits of the min/max possible pixel
values:</p>
<figure><img src="fig/exercise-hist-images.png" style="width:68.0%" alt="Screenshot of 4 small grayscale test images" class="figure mx-auto d-block"></figure><figure><img src="fig/exercise-histograms.png" alt="Screenshot of 4 histograms, corresponding to the test images" class="figure mx-auto d-block"></figure></div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<ul><li>a - 3</li>
<li>b - 4</li>
<li>c - 2</li>
<li>d - 1</li>
</ul></div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="changing-display-settings">Changing display settings<a class="anchor" aria-label="anchor" href="#changing-display-settings"></a></h2>
<hr class="half-width"><p>What happens to pixel values when we change the display settings? Try
changing the contrast limits or colormap in the layer controls. You
should see that the blue bars of the histogram stay the same, no matter
what settings you change i.e. the display settings don’t affect the
underlying pixel values.</p>
<p>This is one of the reasons it’s <em>important to use software
designed for scientific analysis</em> to work with your light microscopy
images. Software like Napari and ImageJ will try to ensure that your
pixel values remain unchanged, while other image editing software
(designed for working with photographs) may change the pixel values in
unexpected ways. Also, even with scientific software, some image
processing steps (that we’ll see in later episodes) will change the
pixel values.</p>
<p>Keep this in mind and make sure you always retain a copy of your
original data, in its original file format! We’ll see in the <a href="filetypes-and-metadata.html">‘Filetypes and metadata’ episode</a>
that original image files contain important metadata that should be kept
for future reference.</p>
</section><section><h2 class="section-heading" id="colormaps-luts">Colormaps / LUTs<a class="anchor" aria-label="anchor" href="#colormaps-luts"></a></h2>
<hr class="half-width"><p>Let’s dig deeper into Napari’s colormaps. As we saw in the <a href="what-is-an-image.html">‘What is an image?’ episode</a>, images are
represented by arrays of numbers (pixel values) with certain dimensions
and data type. Napari (or any other image viewer) has to convert these
numbers into coloured squares on our screen to allow us to view and
interpret the image. Colormaps (also known as lookup tables or LUTs) are
a way to convert pixel values into corresponding colours for display.
For example, remember the image at the beginning of this episode,
showing an image array using three different colormaps:</p>
<figure><img src="fig/same-array-diff-display.png" style="width:70.0%" alt="Diagram showing an image array (top) with three different colormap  options (bottom)" class="figure mx-auto d-block"></figure><p>Napari supports a wide range of colormaps that can be selected from
the ‘colormap’ menu in the layer controls (as we saw in the <a href="imaging-software.html">Imaging Software episode</a>). For example,
see the diagram below showing the ‘gray’ colormap, where every pixel
value from 0-255 is matched to a shade of gray:</p>
<figure><img src="fig/gray-colorbar.png" style="width:50.0%" alt="Grey colormap shown as a colorbar with corresponding pixel values" class="figure mx-auto d-block"></figure><p>See the diagram below for examples of 4 different colormaps applied
to the ‘coins’ image from Napari, along with corresponding image
histograms:</p>
<figure><img src="fig/colorbar-comparison.png" style="width:90.0%" alt="Diagram showing histograms, colorbars and images for the gray, green,  viridis and inferno colormap applied on the coins image" class="figure mx-auto d-block"></figure><p>Why would we want to use different colormaps?</p>
<ul><li>to highlight specific features in an image</li>
<li>to help with overlaying multiple images, as we saw in the <a href="imaging-software.html">Imaging Software episode</a> when we
displayed green nuclei and magenta membranes together.</li>
<li>to help interpretation of an image. For example, if we used a red
fluorescent label in an experiment, then using a red colormap might help
people understand the image quickly.</li>
</ul></section><section><h2 class="section-heading" id="brightness-and-contrast">Brightness and contrast<a class="anchor" aria-label="anchor" href="#brightness-and-contrast"></a></h2>
<hr class="half-width"><p>As the final section of this episode, let’s learn more about the
‘contrast limits’ in Napari. As we saw in the <a href="imaging-software.html">Imaging Software episode</a>, adjusting the
contrast limits in the layer controls changes how bright different parts
of the image are displayed. What is really going on here though?</p>
<p>In fact, the ‘contrast limits’ are adjusting how our colormap gets
applied to the image. For example, consider the standard gray
colormap:</p>
<figure><img src="fig/contrast-comparison-0-255.png" style="width:90.0%" alt="Histogram, colorbar and image corresponding to coins coloured by the  gray colormap. Contrast limits 0 and 255." class="figure mx-auto d-block"></figure><p>For an 8-bit image, the range of colours from black to white are
normally spread from 0 (the minimum pixel value) to 255 (the maximum
pixel value). If we move the left contrast limits node, we change where
the colormap starts from e.g.  for a value of 150 we get:</p>
<figure><img src="fig/contrast-comparison-150-255.png" style="width:90.0%" alt="Histogram, colorbar and image corresponding to coins coloured by the  gray colormap. Contrast limits 150 and 255." class="figure mx-auto d-block"></figure><p>Now all the colours from black to white are spread over a smaller
range of pixel values from 150-255 and everything below 150 is set to
black. Note that in Napari you can set specific values for the contrast
limits by right clicking on the contrast limits slider. As you adjust
the contrast limits, the vertical white lines on the
<code>napari-matplotlib</code> histogram will move to match.</p>
<p>If we move the right contrast limits node, we change where the
colormap ends (i.e. where pixels are fully white). For example, for
contrast limits of 150 and 200:</p>
<figure><img src="fig/contrast-comparison-150-200.png" style="width:90.0%" alt="Histogram, colorbar and image corresponding to coins coloured by the  gray colormap. Contrast limits 150 and 200." class="figure mx-auto d-block"></figure><p>Now the range of colours from black to white only cover the pixel
values from 150-200, everything below is black and everything above is
white.</p>
<p>Why do we need to adjust contrast limits?</p>
<ul><li><p>to allow us to see low contrast features. Some parts of your
image may only differ slightly in their pixel value (low contrast).
Bringing the contrast limits closer together allows a small change in
pixel value to be represented by a bigger change in colour from the
colormap.</p></li>
<li><p>to focus on specific features. For example, increasing the lower
contrast limit will remove any low intensity parts of the image from the
display.</p></li>
</ul><div id="adjusting-contrast" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="adjusting-contrast" class="callout-inner">
<h3 class="callout-title">Adjusting contrast</h3>
<div class="callout-content">
<p>Open the Napari console with the <img src="https://raw.githubusercontent.com/napari/napari/main/napari/resources/icons/console.svg" alt="A screenshot of Napari's console button" height="30" class="figure"> button
and copy and paste the code below:</p>
<pre><code>import numpy as np
from skimage.draw import disk
image = np.full((100,100), 10, dtype="uint8")
image[:, 50:100] = 245
image[disk((50, 25),15)] = 11
image[disk((50, 75),15)] = 247
viewer.add_image(image)</code></pre>
<p>This 2D image contains two hidden circles:</p>
<ul><li>Adjust Napari’s contrast limits to view both</li>
<li>What contrast limits allow you to see each circle? (remember you can
right click on the contrast limit bar to see specific values). Why do
these limits work?</li>
</ul></div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>The left circle can be seen with limits of e.g. 0 and 33</p>
<p>These limits work because the background on the left side of the
image has a pixel value of 10 and the circle has a value of 11. By
moving the upper contrast limit to the left we force the colormap to go
from black to white over a smaller range of pixel values. This allows
this small difference in pixel value to be represented by a larger
difference in colour and therefore made visible.</p>
<p>The right circle can be seen with limits of e.g. 231 and 255. This
works for a very similar reason - the background has a pixel value of
245 and the circle has a value of 247.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>The same image array can be displayed in many different ways in
Napari</li>
<li>Image histograms provide a useful overview of the pixel values in an
image</li>
<li>Plugins can be searched for on Napari hub and installed via
Napari</li>
<li>Colormaps (or LUTs) map pixel values to colours</li>
<li>Contrast limits change the range of pixel values the colormap is
spread over</li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="what-is-an-image.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="multi-dimensional-images.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="what-is-an-image.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: What is an image?
        </a>
        <a class="chapter-link float-end" href="multi-dimensional-images.html" rel="next">
          Next: Multi-dimensional...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/HealthBioscienceIDEAS/microscopy-novice/edit/main/episodes/image-display.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/HealthBioscienceIDEAS/microscopy-novice/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/HealthBioscienceIDEAS/microscopy-novice/" class="external-link">Source</a></p>
				<p><a href="https://github.com/HealthBioscienceIDEAS/microscopy-novice/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.11" class="external-link">sandpaper (0.16.11)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.7" class="external-link">pegboard (0.7.7)</a>, and <a href="https://github.com/HealthBioscienceIDEAS/varnish/tree/IDEAS" class="external-link">varnish (1.0.3.9000)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://HealthBioscienceIDEAS.github.io/microscopy-novice/image-display.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Image display",
  "creativeWorkStatus": "active",
  "url": "https://HealthBioscienceIDEAS.github.io/microscopy-novice/image-display.html",
  "identifier": "https://HealthBioscienceIDEAS.github.io/microscopy-novice/image-display.html",
  "dateCreated": "2023-10-26",
  "dateModified": "2024-08-16",
  "datePublished": "2025-02-04"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

